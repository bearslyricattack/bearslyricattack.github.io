<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>数据库系统 | 风凌渡</title>
<noscript>开启Javascript是必要的</noscript>
<link rel="icon" type="image/x-icon" href="/img/avatar.webp">
<link rel="apple-touch-icon" href="/img/avatar.webp">
<meta name="apple-mobile-web-app-title" content="风凌渡">
<link rel="bookmark" href="/img/avatar.webp">
<link rel="apple-touch-icon-precomposed" sizes="180x180" href="/img/avatar.webp">
<meta name="description" content="a blog 一个分享技术与生活的博客">
<meta name="theme-color" content="#1C1C1F">
<link rel="stylesheet" href="/css/var.css">
<link rel="stylesheet" href="/css/main.css">
<link rel="stylesheet" href="/css/custom.css">



<link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/font-awesome/6.3.0/css/all.min.css">
    

<link rel="stylesheet" href="/lib/snackbar.min.css">


<script src="/lib/qrcode.min.js"></script>





<script>var GLOBALCONFIG = {"root":"/","runtime":"2022-5-21 00:00:00","lazyload":{"enable":false,"error":"/img/acrylic.png"},"hightlight":{"enable":false,"limit":200},"lightbox":true,"randomlinks":false,"lang":{"theme":{"dark":"已切换至深色模式","light":"已切换至浅色模式"},"copy":{"success":"复制成功","error":"复制失败"},"backtop":"返回顶部","time":{"recent":"最近","yesterday":"昨天","berforeyesterday":"前天","daybefore":"天前","runtime":"天"},"sayhello":{"morning":"早上好","noon":"中午好","afternoon":"下午好","night":"晚上好","goodnight":"晚安","iam":"!  我是"},"search":{"empty":"搜索结果为空","hit":"已为您找到 ${query} 条结果","placeholder":"输入关键词快速查找"}},"covercolor":false,"localsearch":{"preload":false,"path":"/search.xml"}};</script><script id="site-config">var PAGECONFIG = {"is_home":false,"is_post":true,"is_page":false,"page":false,"toc":true,"comment":false};</script>
    <meta name="generator" content="Hexo 6.3.0"></head>
    <body id="body">
        
        <div id="console" style="zoom: 1;" class="">
    <div class="close-btn" onclick="acrylic.hideConsole()" href="javascript:void(0);">
        <i class="fas fa-circle-xmark"></i>
    </div>
    <div class="button-group">
        <div class="console-btn-item"> <a class="darkmode_switchbutton" onclick="acrylic.switchDarkMode()" title="显示模式切换"
                href="javascript:void(0);" rel="external nofollow" data-pjax-state=""><i class="fas fa-moon"
                    style="font-size: 1rem;"></i></a></div>
                    
            <div class="console-btn-item" id="consoleMusic" onclick="acrylic.musicToggle()" title="音乐开关"><a class="music-switch"><i class="fas fa-music"></i></a></div>
        
        <div class="console-btn-item" id="consoleFPS" onclick="acrylic.FPSToggle()" title="帧率显示开关"><a class="FPS-switch"
                data-pjax-state=""><i class="fas fa-gauge"></i></a></div>
    </div>
    <div class="console-mask" onclick="acrylic.hideConsole()" href="javascript:void(0);" rel="external nofollow"></div>
</div>
        <div id="sidebar" style="zoom: 1;">
    <div id="menu-mask" style="display: none;"></div>
    <div id="sidebar-menus" class>
        <span class="sidebar-menu-item-title">功能</span>
        <div class="sidebar-menu-item">
            <a class="darkmode_switchbutton menu-child" onclick="acrylic.switchDarkMode()" title="显示模式切换"
                href="javascript:void(0);" rel="external nofollow">
                <i class="fas fa-moon" style="font-size: 1rem;"></i>
                <span>显示模式</span>
            </a>
        </div>
        
            <div class="back-menu-list-groups">
    
      
      <div class="back-menu-list-group">
        <div class="back-menu-list-title">
          我的
        </div>
        <div class="back-menu-list">
          
            
            <a class="back-menu-item" href="/" rel="external nofollow" title="博客">
              <img class="back-menu-item-icon" src="/img/avatar.webp" loading="lazy">
              <span class="back-menu-item-text">
                博客
              </span>
            </a>
          
        </div>
      </div>
    
  </div>
  
        
        <div class="menus_items">
    
        <div class="menus_item">
            
                <a class="site-page" href="javascript:void(0);" rel="external nofollow">
                    <span> 文库</span>
                </a>
                <ul class="menus_item_child">
                    
                        <li>
                            <a class="site-page child" href="/archives/">
                                <i class="fas fa-box-archive"></i>
                                <span> 文章列表</span>
                            </a>
                        </li>
                    
                        <li>
                            <a class="site-page child" href="/categories/">
                                <i class="fas fa-cube"></i>
                                <span> 全部分类</span>
                            </a>
                        </li>
                    
                        <li>
                            <a class="site-page child" href="/tags/">
                                <i class="fas fa-tags"></i>
                                <span> 全部标签</span>
                            </a>
                        </li>
                    
                </ul>
             
        </div>
    
        <div class="menus_item">
            
                <a class="site-page not-child" target="_blank" href="https://github.com/bearslyricattack" rel="external nofollow noopener">
                    <span> 仓库</span>
                </a>
             
        </div>
    
</div>
        <span class="sidebar-menu-item-title">标签</span>
        <div class="card-widget card-tags card-archives card-webinfo card-allinfo">
            <div class="item-headline">
                <i class="fas fa-tags"></i>
                <span>标签</span>
            </div>
            <div class="card-tag-cloud">
                
                    <a href="/tags/%E4%B8%AD%E9%97%B4%E4%BB%B6/" style="font-size: 1em; color: #d3d3d3">中间件
                        <sup>4</sup>
                    </a>
                
                    <a href="/tags/Go/" style="font-size: 1em; color: #d3d3d3">Go
                        <sup>3</sup>
                    </a>
                
                    <a href="/tags/Java/" style="font-size: 1em; color: #d3d3d3">Java
                        <sup>3</sup>
                    </a>
                
                    <a href="/tags/%E6%9E%B6%E6%9E%84/" style="font-size: 1em; color: #d3d3d3">架构
                        <sup>3</sup>
                    </a>
                
                    <a href="/tags/%E9%A1%B9%E7%9B%AE/" style="font-size: 1em; color: #d3d3d3">项目
                        <sup>2</sup>
                    </a>
                
                    <a href="/tags/%E5%BD%B1%E8%AF%84/" style="font-size: 1em; color: #d3d3d3">影评
                        <sup>1</sup>
                    </a>
                
                    <a href="/tags/%E8%AF%97%E6%AD%8C/" style="font-size: 1em; color: #d3d3d3">诗歌
                        <sup>14</sup>
                    </a>
                
                    <a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/" style="font-size: 1em; color: #d3d3d3">分布式
                        <sup>1</sup>
                    </a>
                
                    <a href="/tags/%E5%A5%8E%E6%A1%91%E6%8F%90/" style="font-size: 1em; color: #d3d3d3">奎桑提
                        <sup>1</sup>
                    </a>
                
                    <a href="/tags/%E5%A5%A5%E6%81%A9/" style="font-size: 1em; color: #d3d3d3">奥恩
                        <sup>1</sup>
                    </a>
                
                    <a href="/tags/%E8%AF%BE%E7%A8%8B/" style="font-size: 1em; color: #d3d3d3">课程
                        <sup>8</sup>
                    </a>
                
                    <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" style="font-size: 1em; color: #d3d3d3">数据库
                        <sup>2</sup>
                    </a>
                
                    <a href="/tags/%E8%AF%84%E8%AE%BA/" style="font-size: 1em; color: #d3d3d3">评论
                        <sup>1</sup>
                    </a>
                
                    <a href="/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/" style="font-size: 1em; color: #d3d3d3">服务器
                        <sup>1</sup>
                    </a>
                
                    <a href="/tags/%E6%A1%8C%E6%90%AD/" style="font-size: 1em; color: #d3d3d3">桌搭
                        <sup>1</sup>
                    </a>
                
            </div>
        </div>
    </div>
</div>    
        
            <div class="post" id="body-wrap">
                <header class="post-bg" id="page-header">
    <nav id="nav" class="show">
    <div id="nav-group">
        <div id="blog_name">
            
                <div class="back-home-button" tabindex="-1">
                    <i class="back-home-button-icon fas fa-grip-vertical"></i>
                    <div class="back-menu-list-groups">
    
      
      <div class="back-menu-list-group">
        <div class="back-menu-list-title">
          我的
        </div>
        <div class="back-menu-list">
          
            
            <a class="back-menu-item" href="/" rel="external nofollow" title="博客">
              <img class="back-menu-item-icon" src="/img/avatar.webp" loading="lazy">
              <span class="back-menu-item-text">
                博客
              </span>
            </a>
          
        </div>
      </div>
    
  </div>
  
                </div>
            
            <a id="site-name" href="/" title="返回博客主页">
                    
            </a>
        </div>
        <div id="page-name-mask">
            <div id="page-name">
                <a id="page-name-text" onclick="acrylic.toTop()">数据库系统</a>
            </div>
        </div>
        <div id="menus">
            <div class="menus_items">
    
        <div class="menus_item">
            
                <a class="site-page" href="javascript:void(0);" rel="external nofollow">
                    <span> 文库</span>
                </a>
                <ul class="menus_item_child">
                    
                        <li>
                            <a class="site-page child" href="/archives/">
                                <i class="fas fa-box-archive"></i>
                                <span> 文章列表</span>
                            </a>
                        </li>
                    
                        <li>
                            <a class="site-page child" href="/categories/">
                                <i class="fas fa-cube"></i>
                                <span> 全部分类</span>
                            </a>
                        </li>
                    
                        <li>
                            <a class="site-page child" href="/tags/">
                                <i class="fas fa-tags"></i>
                                <span> 全部标签</span>
                            </a>
                        </li>
                    
                </ul>
             
        </div>
    
        <div class="menus_item">
            
                <a class="site-page not-child" target="_blank" href="https://github.com/bearslyricattack" rel="external nofollow noopener">
                    <span> 仓库</span>
                </a>
             
        </div>
    
</div>
        </div>
        <!-- <div id="nav-left">
            <div id="fps-group">
                <div id="fps">145</div><span class="fpsText">FPS</span>
            </div>
        </div> -->
        <div id="nav-right">
            
    <div class="nav-button only-home" id="travellings_button">
        <a class="site-page"  target="_blank" rel="noopener external nofollow" href="https://www.travellings.cn/go.html" title="开往-友链接力"  width="120">
            <i class="fa-solid fa-train-subway" style="font-size: 1rem;"></i>
        </a>
    </div>


    <div class="nav-button" id="randomPost_button">
        <a class="site-page" onclick="toRandomPost()"
            title="随机前往一个文章">
            <i class="fas fa-shuffle" style="font-size: 1rem;"></i>
        </a>
    </div>


    <div class="nav-button" id="search-button">
        <a class="site-page social-icon search" title="站内搜索"
            href="javascript:void(0);" rel="external nofollow">
            <i class="fas fa-magnifying-glass" style="font-size: 1rem;"></i>
        </a>
    </div>


    <div class="nav-button" id="nav-console">
        <a class="console_switchbutton" onclick="acrylic.showConsole()"
        title="显示中控台" href="javascript:void(0);" rel="external nofollow">
        <i class="fas fa-bars-progress" style="font-size: 1rem;"></i>
        </a>
    </div>

<div class="nav-button" id="nav-totop" onclick="acrylic.toTop()">
    <a class="totopbtn">
        <i class="fas fa-arrow-up"></i>
        <span id="percent">0</span>
    </a>
</div>
<div id="toggle-menu">
    <a class="site-page">
        <i class="fas fa-bars fa-fw" style="font-size: 1rem;"></i>
    </a>
</div>
        </div>
    </div>
</nav>
    
        <div class="coverdiv" id="coverdiv">
    <img id="post-cover" class="nolazyload" src="/img/100.jpg" alt="cover">
</div>
<div id="post-info">
    <div id="post-firstinfo">
        <div class="meta-firstline">
            <a class="post-meta-original" title="该文章为原创文章，注意版权协议">
                原创
            </a>
            
            <span class="post-meta-categories">
                
                    <a class="post-meta-categories" href="/categories/%E8%AF%BE%E7%A8%8B/">课程</a>
                
            </span>
            
            <div class="tag_share">
                <div class="post-meta__tag-list">
                    
                        <a class="post-meta__tags" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/">
                            <span class="tags-punctuation">#</span>
                            <span class="tags-name">数据库</span>
                        </a>
                    
                </div>
            </div>
        </div>
    </div>
    <h1 class="post-title">数据库系统</h1>
    <div id="post-meta">
        <div class="meta-secondline">
            <span class="post-meta-date" title="发布于">
                <i class="post-meta-icon fa-fw fas fa-calendar"></i>
                <time datetime="2023-06-08T11:11:45+08:00"></time>
            </span>
            
            
                <span class="post-meta-position" title="作者IP归属地为山东·威海">
                    <i class="fas fa-location-dot post-meta-icon"></i>
                    <span>山东·威海</span>
                </span>
            
            
                
                
            
            
                
        </div>
    </div>
</div>
<section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg"
    xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
    <defs>
        <path id="gentle-wave"
            d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path>
    </defs>
    <g class="parallax">
        <use href="#gentle-wave" x="48" y="0"></use>
        <use href="#gentle-wave" x="48" y="3"></use>
        <use href="#gentle-wave" x="48" y="5"></use>
        <use href="#gentle-wave" x="48" y="7"></use>
    </g>
</svg>
</section>

        
</header>
                <main class="layout" id="content-inner">
    <div id="post">
        <article class="post-content" id="article-container">
            <h1 id="数据库系统"><a href="#数据库系统" class="headerlink" title="数据库系统"></a>数据库系统</h1><h1 id="1-概论"><a href="#1-概论" class="headerlink" title="1.概论"></a>1.概论</h1><h2 id="1-1-数据库"><a href="#1-1-数据库" class="headerlink" title="1.1 数据库:"></a>1.1 数据库:</h2><p>是长期储存在计算机内、有组织的、可共享的数据集合.</p>
<h2 id="1-2-数据库管理系统"><a href="#1-2-数据库管理系统" class="headerlink" title="1.2 数据库管理系统:"></a>1.2 数据库管理系统:</h2><p>管理数据库，支持应用的软件系统 DataBase Management System (DBMS).</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608111714224.png" alt="image-20230608111714224"></p>
<h2 id="1-3-数据库系统"><a href="#1-3-数据库系统" class="headerlink" title="1.3 数据库系统:"></a>1.3 数据库系统:</h2><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608111745493.png" alt="image-20230608111745493"></p>
<h2 id="1-4-文件系统的劣势"><a href="#1-4-文件系统的劣势" class="headerlink" title="1.4 文件系统的劣势:"></a>1.4 文件系统的劣势:</h2><p><strong>数据冗余和不一致</strong></p>
<p><strong>数据访问困难</strong></p>
<p>传统文件处理环境不支持方便而高效的方式去获取数据，不能对变化的需求做出更快的反应。</p>
<p><strong>数据孤立</strong></p>
<p>数据分散在不同文件中，这些文件又可能具有不同的格式，因此编写新的应用程序来检索适当数据是很困难的.</p>
<p><strong>完整性问题</strong></p>
<p>数据库所存储的数据值必须满足某些特定一致性约束文件系统中，新的约束加入时，很难通过修改程序来体现这些新约束,当约束涉及到不同文件中的多个数据项时，问题更为复杂.</p>
<p><strong>原子性问题</strong></p>
<p>操作是原子的：为了保证数据库的一致性，一些操作要么全部发生、要么根本不发生，例如：转账在传统文件处理系统中，很难保持上述原子性。</p>
<p><strong>并发访问异常</strong></p>
<p>了提高系统的总体性能及加快响应速度，许多系统需要允许多个用户同时更新数据,在文件系统中，数据可能被多个不同应用程序访问，这些程序相互间事先没有协调，管理就很难进行.</p>
<p><strong>安全性问题</strong></p>
<p>并非数据库系统的所有用户都可以访问所有数据,由于文件系统中应用程序总是即席地加入到文件处理系统中来，这样的安全性约束难以实现.</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608112155934.png" alt="image-20230608112155934"></p>
<h2 id="1-5-数据库系统结构"><a href="#1-5-数据库系统结构" class="headerlink" title="1.5 数据库系统结构:"></a>1.5 数据库系统结构:</h2><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608112221435.png" alt="image-20230608112221435"></p>
<h2 id="1-6-数据抽象"><a href="#1-6-数据抽象" class="headerlink" title="1.6 数据抽象:"></a>1.6 数据抽象:</h2><p>对于用户系统地隐藏关于数据存储和维护的某些细节,屏蔽复杂性，简化用户与系统的交互.</p>
<h3 id="1-6-1-视图抽象"><a href="#1-6-1-视图抽象" class="headerlink" title="1.6.1 视图抽象:"></a>1.6.1 视图抽象:</h3><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608112434463.png" alt="image-20230608112434463"></p>
<h3 id="1-6-2-逻辑抽象"><a href="#1-6-2-逻辑抽象" class="headerlink" title="1.6.2 逻辑抽象:"></a>1.6.2 逻辑抽象:</h3><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608112502106.png" alt="image-20230608112502106"></p>
<h3 id="1-6-3-物理抽象"><a href="#1-6-3-物理抽象" class="headerlink" title="1.6.3 物理抽象:"></a>1.6.3 物理抽象:</h3><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608112527896.png" alt="image-20230608112527896"></p>
<h2 id="1-7-数据独立性"><a href="#1-7-数据独立性" class="headerlink" title="1.7 数据独立性:"></a>1.7 数据独立性:</h2><h3 id="1-7-1-物理数据独立性"><a href="#1-7-1-物理数据独立性" class="headerlink" title="1.7.1 物理数据独立性:"></a>1.7.1 物理数据独立性:</h3><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608112621203.png" alt="image-20230608112621203"></p>
<h3 id="1-7-2-逻辑数据独立性"><a href="#1-7-2-逻辑数据独立性" class="headerlink" title="1.7.2 逻辑数据独立性:"></a>1.7.2 逻辑数据独立性:</h3><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608112646064.png" alt="image-20230608112646064"></p>
<h2 id="1-8-数据模型"><a href="#1-8-数据模型" class="headerlink" title="1.8 数据模型:"></a>1.8 数据模型:</h2><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608112714623.png" alt="image-20230608112714623"></p>
<p>常用的数据模型:</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608112741975.png" alt="image-20230608112741975"></p>
<h3 id="1-8-1-层次数据模型"><a href="#1-8-1-层次数据模型" class="headerlink" title="1.8.1 层次数据模型:"></a>1.8.1 层次数据模型:</h3><p>有且只有一个结点没有双亲结点，这个结点称为根结点,根以外的其它结点有且只有一个双亲结点.</p>
<p>一个例子:<br><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608112857743.png" alt="image-20230608112857743"></p>
<p>优缺点:</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608112850291.png" alt="image-20230608112850291"></p>
<h3 id="1-8-2-网状数据模型"><a href="#1-8-2-网状数据模型" class="headerlink" title="1.8.2 网状数据模型:"></a>1.8.2 网状数据模型:</h3><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608112935942.png" alt="image-20230608112935942"></p>
<p>优缺点:</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608113001074.png" alt="image-20230608113001074"></p>
<h2 id="1-9-数据库语言"><a href="#1-9-数据库语言" class="headerlink" title="1.9 数据库语言:"></a>1.9 数据库语言:</h2><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608113028790.png" alt="image-20230608113028790"></p>
<h1 id="2-关系数据库"><a href="#2-关系数据库" class="headerlink" title="2.关系数据库:"></a>2.关系数据库:</h1><h2 id="2-1-关系模型"><a href="#2-1-关系模型" class="headerlink" title="2.1 关系模型:"></a>2.1 关系模型:</h2><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608113142099.png" alt="image-20230608113142099"></p>
<h2 id="2-2-关系数据结构的基本概念"><a href="#2-2-关系数据结构的基本概念" class="headerlink" title="2.2 关系数据结构的基本概念:"></a>2.2 关系数据结构的基本概念:</h2><h3 id="2-2-1属性"><a href="#2-2-1属性" class="headerlink" title="2.2.1属性:"></a>2.2.1属性:</h3><p>关系表的列,顺序无关紧要</p>
<h3 id="2-2-2域"><a href="#2-2-2域" class="headerlink" title="2.2.2域:"></a>2.2.2域:</h3><p>属性的所有可能取值的集合，称为该属性的域</p>
<h3 id="2-2-3关系"><a href="#2-2-3关系" class="headerlink" title="2.2.3关系:"></a>2.2.3关系:</h3><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608113500259.png" alt="image-20230608113500259"></p>
<p>笛卡尔积中的每一个元素称为一个元组.</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608113551262.png" alt="image-20230608113551262"></p>
<h3 id="2-2-4关系模式"><a href="#2-2-4关系模式" class="headerlink" title="2.2.4关系模式:"></a>2.2.4关系模式:</h3><p>关系的型.</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608113659892.png" alt="image-20230608113659892"></p>
<p>注意此处的关系是数据库字段之间的关系.</p>
<p>举个例子:</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608113727645.png" alt="image-20230608113727645"></p>
<h3 id="2-2-5-关系数据库"><a href="#2-2-5-关系数据库" class="headerlink" title="2.2.5 关系数据库:"></a>2.2.5 关系数据库:</h3><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608113801270.png" alt="image-20230608113801270"></p>
<h2 id="2-3-完整性约束"><a href="#2-3-完整性约束" class="headerlink" title="2.3 完整性约束:"></a>2.3 完整性约束:</h2><h3 id="2-3-1-超码"><a href="#2-3-1-超码" class="headerlink" title="2.3.1 超码:"></a>2.3.1 超码:</h3><p>唯一的标识一个元组.</p>
<h3 id="2-3-2-候选码"><a href="#2-3-2-候选码" class="headerlink" title="2.3.2 候选码:"></a>2.3.2 候选码:</h3><p>超码.且真子集不是超码.一个关系模式可以有多个候选码.</p>
<h3 id="2-3-3-主键-主码"><a href="#2-3-3-主键-主码" class="headerlink" title="2.3.3 主键(主码):"></a>2.3.3 主键(主码):</h3><p>被数据库设计者选中的，用来在同一关系中区分不同元组的候选键.</p>
<p>选择原则：值从不或很少变化的.</p>
<p>一个关系模式只能具有一个主键,主键中的属性称为关系的主属性.</p>
<h3 id="2-3-4-外键-外码"><a href="#2-3-4-外键-外码" class="headerlink" title="2.3.4 外键(外码):"></a>2.3.4 外键(外码):</h3><p>主键在其他表中.</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608114144524.png" alt="image-20230608114144524"></p>
<p>外键并不一定要与相应的主键同名。</p>
<p>一般情况下，外键与相应的主键往往取相同的名字，以便于识别.</p>
<h3 id="2-3-5-实体完整性约束"><a href="#2-3-5-实体完整性约束" class="headerlink" title="2.3.5 实体完整性约束:"></a>2.3.5 实体完整性约束:</h3><p>主键不能为空.</p>
<h3 id="2-3-6-关联完整性约束"><a href="#2-3-6-关联完整性约束" class="headerlink" title="2.3.6 关联完整性约束:"></a>2.3.6 关联完整性约束:</h3><p>外键的值必须有对应的主键.</p>
<h2 id="2-4-关系运算"><a href="#2-4-关系运算" class="headerlink" title="2.4 关系运算:"></a>2.4 关系运算:</h2><h3 id="2-4-1-关系代数运算"><a href="#2-4-1-关系代数运算" class="headerlink" title="2.4.1 关系代数运算:"></a>2.4.1 关系代数运算:</h3><p>选择:选出若干行</p>
<p>投影:选出若干列</p>
<p>并:合并元组</p>
<p>差:减去元组</p>
<p>笛卡尔积:列相乘</p>
<p>关系代数的基本运算足以表达任何关系代数查询,但是，如果我们把自己局限于基本运算,某些常用的查询表达出来会显得冗长.</p>
<p>因而，我们定义了一些附加运算，它们不能增加关系代数的表达能力，却可以简化一些常用的查询.</p>
<h3 id="2-4-2-附加关系代数运算"><a href="#2-4-2-附加关系代数运算" class="headerlink" title="2.4.2 附加关系代数运算:"></a>2.4.2 附加关系代数运算:</h3><p>交:交集</p>
<p>连接:</p>
<p>选取属性间满足一定关系的元组.</p>
<h4 id="2-4-2-1-等值连接"><a href="#2-4-2-1-等值连接" class="headerlink" title="2.4.2.1 等值连接:"></a>2.4.2.1 等值连接:</h4><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608154559943.png" alt="image-20230608154559943"></p>
<h4 id="2-4-2-2-自然连接"><a href="#2-4-2-2-自然连接" class="headerlink" title="2.4.2.2 自然连接:"></a>2.4.2.2 自然连接:</h4><p>匹配不上的就不要了.</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608154641166.png" alt="image-20230608154641166"></p>
<h4 id="2-4-2-3-左外连接"><a href="#2-4-2-3-左外连接" class="headerlink" title="2.4.2.3 左外连接:"></a>2.4.2.3 左外连接:</h4><p>匹配不上的只保留左边.</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608154812044.png" alt="image-20230608154812044"></p>
<p>右边外连接也是一样的,两个连接的交集是全外连接.</p>
<h3 id="2-4-3-拓展关系代数运算"><a href="#2-4-3-拓展关系代数运算" class="headerlink" title="2.4.3 拓展关系代数运算:"></a>2.4.3 拓展关系代数运算:</h3><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608155049714.png" alt="image-20230608155049714"></p>
<h2 id="2-5-元组关系演算"><a href="#2-5-元组关系演算" class="headerlink" title="2.5 元组关系演算:"></a>2.5 元组关系演算:</h2><p><strong><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608155139015.png" alt="image-20230608155139015"></strong></p>
<p>举几个例子:</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608155201419.png" alt="image-20230608155201419"></p>
<h2 id="2-6-关系运算安全性"><a href="#2-6-关系运算安全性" class="headerlink" title="2.6 关系运算安全性:"></a>2.6 关系运算安全性:</h2><p>如果一个关系运算系统不产生无限关系和无穷验证,则这个运算是安全的.</p>
<p>关系代数系统是安全的,元组关系演算不安全.这两种运算之间具有等价性.</p>
<p>关系运算是关系数据库查询语言的基础.</p>
<h2 id="2-7-SQL"><a href="#2-7-SQL" class="headerlink" title="2.7 SQL:"></a>2.7 SQL:</h2><p>结构化查询语言.</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608230625061.png" alt="image-20230608230625061"></p>
<h3 id="2-7-1-DDL"><a href="#2-7-1-DDL" class="headerlink" title="2.7.1 DDL:"></a>2.7.1 DDL:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">创建：</span><br><span class="line">create table/view/index</span><br><span class="line">删除：</span><br><span class="line">drop</span><br><span class="line">修改：</span><br><span class="line">alter table</span><br><span class="line">视图和索引不能修改</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">create table 表名（</span><br><span class="line">列名 数据类型,</span><br><span class="line">...</span><br><span class="line">）;</span><br><span class="line"></span><br><span class="line">CREATE TABLE Grade</span><br><span class="line">(</span><br><span class="line">//不为空约束</span><br><span class="line">SSN CHAR(9) NOT NULL,</span><br><span class="line">CNO CHAR(7) NOT NULL,</span><br><span class="line">Score INTEGER,</span><br><span class="line">//指定主键</span><br><span class="line">Primary key (SSN, CNO),</span><br><span class="line">//指定外键</span><br><span class="line">foreign key(SSN) references Student);</span><br></pre></td></tr></table></figure>

<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608230930095.png" alt="image-20230608230930095"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create unique index 索引名 on 表名（索引字段）</span><br></pre></td></tr></table></figure>

<h3 id="2-7-2-授权："><a href="#2-7-2-授权：" class="headerlink" title="2.7.2 授权："></a>2.7.2 授权：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">增添</span><br><span class="line">grant 权限 on 关系 to 用户</span><br><span class="line">取消</span><br><span class="line">revoke 权限 on 关系 from 用户</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">grant select on table student to bob;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">角色授权方式:</span><br><span class="line">方便：将系统权限与用户的对象权限都封装在角色中；谁要用的话直接把角色赋给它们就行。</span><br><span class="line">这种权限称为可传播的</span><br><span class="line"></span><br><span class="line">//创建角色</span><br><span class="line">create role manager；</span><br><span class="line"></span><br><span class="line">//为角色赋予权限</span><br><span class="line">grant create session,create table,create view to manager；</span><br><span class="line"></span><br><span class="line">//角色权限给用户</span><br><span class="line">grant manager to bob;</span><br></pre></td></tr></table></figure>

<h3 id="2-7-3-查询："><a href="#2-7-3-查询：" class="headerlink" title="2.7.3 查询："></a>2.7.3 查询：</h3><h4 id="2-7-3-1-单表查询："><a href="#2-7-3-1-单表查询：" class="headerlink" title="2.7.3.1 单表查询："></a>2.7.3.1 单表查询：</h4><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608231306012.png" alt="image-20230608231306012"></p>
<p>1.消除重复：distinct 只用一次就行。</p>
<p>2.谓词一览：<img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608231541008.png" alt="image-20230608231541008"></p>
<p>3.order by:</p>
<p>放在查询语句的最后，先写orderby +列名，再写策略：</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608231744733.png" alt="image-20230608231744733"></p>
<p>4.聚集查询：</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608231828078.png" alt="image-20230608231828078"></p>
<p>位置在select后面，举例如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">统计学生总人数.</span><br><span class="line">Select count(*) From student;</span><br><span class="line"></span><br><span class="line">查询选修了课程的学生人数.</span><br><span class="line">Select count(distinct Sno) From SC;</span><br></pre></td></tr></table></figure>

<p>5.分组:</p>
<p>最后，只能出现分组属性和聚集函数。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Select dept_name, Max(salary)</span><br><span class="line">From Employee</span><br><span class="line">Where age》25</span><br><span class="line">Group by dept_name;</span><br><span class="line">age</span><br></pre></td></tr></table></figure>

<p>having：作用于分组：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Select dept_name, Max(salary)</span><br><span class="line">From Employee</span><br><span class="line">Where age&gt;23</span><br><span class="line">Group by dept_name</span><br><span class="line">Having Max(salary)&gt;80000;</span><br></pre></td></tr></table></figure>

<p>6.&lt;&gt;也可用于字符串</p>
<h4 id="2-7-3-2-连接查询："><a href="#2-7-3-2-连接查询：" class="headerlink" title="2.7.3.2 连接查询："></a>2.7.3.2 连接查询：</h4><p>出现在from后面，表后面。</p>
<p>1.等值连接：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT </span><br><span class="line">FROM Student JOIN SC ON Student.Sno = SC.Sno;</span><br></pre></td></tr></table></figure>

<p>2.自然连接：</p>
<p>在等值连接的基础上，去掉重复的列。</p>
<p>关键字natural join.不需要加条件,自动根据名字匹配.</p>
<p>3.外连接与内连接：</p>
<p>left，right，inner.</p>
<h4 id="2-7-3-3-嵌套查询："><a href="#2-7-3-3-嵌套查询：" class="headerlink" title="2.7.3.3 嵌套查询："></a>2.7.3.3 嵌套查询：</h4><p>代替表存在的地方，比如where后面。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT Sname </span><br><span class="line">FROM Student</span><br><span class="line">WHERE Sno IN</span><br><span class="line">（SELECT Sno 内</span><br><span class="line">FROM SC</span><br><span class="line">WHERE Cno= &#x27; 2 &#x27;）；</span><br></pre></td></tr></table></figure>

<p>子查询不建议、或无法使用ORDER BY子句。</p>
<p>带有exist的子查询：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT SnameFROM StudentWHERE NOT EXISTS(SELECT *FROM CourseWHERE NOT EXISTS(SELECT *FROM SCWHERE Sno=Student.SnoAND Cno=Course.Cno));</span><br></pre></td></tr></table></figure>

<h3 id="2-7-4-插入："><a href="#2-7-4-插入：" class="headerlink" title="2.7.4 插入："></a>2.7.4 插入：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">INSERT</span><br><span class="line">INTO Student</span><br><span class="line">VALUES (&#x27; 200215130&#x27;</span><br><span class="line">，</span><br><span class="line">&#x27;陈冬&#x27;</span><br><span class="line">，</span><br><span class="line">&#x27;男&#x27;</span><br><span class="line">，18 ，</span><br><span class="line">‘CS&#x27;)；</span><br></pre></td></tr></table></figure>

<h3 id="2-7-5-更新："><a href="#2-7-5-更新：" class="headerlink" title="2.7.5 更新："></a>2.7.5 更新：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">UPDATE Student</span><br><span class="line">SET Sage=22</span><br><span class="line">WHERE Sno=‘200215122</span><br></pre></td></tr></table></figure>

<h3 id="2-7-6-删除："><a href="#2-7-6-删除：" class="headerlink" title="2.7.6 删除："></a>2.7.6 删除：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">DELETE</span><br><span class="line">FROM Student</span><br><span class="line">WHERE Sno=‘200215121’；</span><br></pre></td></tr></table></figure>



<h1 id="3-数据库完全性与完整性"><a href="#3-数据库完全性与完整性" class="headerlink" title="3.数据库完全性与完整性:"></a>3.数据库完全性与完整性:</h1><h2 id="3-1-安全性"><a href="#3-1-安全性" class="headerlink" title="3.1 安全性:"></a>3.1 安全性:</h2><h3 id="3-1-1-用户标识与鉴别"><a href="#3-1-1-用户标识与鉴别" class="headerlink" title="3.1.1 用户标识与鉴别:"></a>3.1.1 用户标识与鉴别:</h3><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608155849143.png" alt="image-20230608155849143"></p>
<h3 id="3-1-2-存取控制机制"><a href="#3-1-2-存取控制机制" class="headerlink" title="3.1.2 存取控制机制:"></a>3.1.2 存取控制机制:</h3><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608155945282.png" alt="image-20230608155945282"></p>
<h3 id="3-1-3-授权与权限收回"><a href="#3-1-3-授权与权限收回" class="headerlink" title="3.1.3 授权与权限收回:"></a>3.1.3 授权与权限收回:</h3><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608160033484.png" alt="image-20230608160033484"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">把查询Course表的权限授给用户Bob</span><br><span class="line">GRANT SELECT ON TABLE Course TO Bob;</span><br></pre></td></tr></table></figure>

<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608160128269.png" alt="image-20230608160128269"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">收回用户Bob修改Course表中课程号的权限</span><br><span class="line">REVOKE UPDATE(Cno) ON TABLE Course FROM Bob;</span><br></pre></td></tr></table></figure>

<p>数据库角色:</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608160248592.png" alt="image-20230608160248592"></p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608160254637.png" alt="image-20230608160254637"></p>
<h3 id="3-1-4-审计"><a href="#3-1-4-审计" class="headerlink" title="3.1.4 审计:"></a>3.1.4 审计:</h3><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608160331131.png" alt="image-20230608160331131"></p>
<h3 id="3-1-5-数据加密"><a href="#3-1-5-数据加密" class="headerlink" title="3.1.5 数据加密:"></a>3.1.5 数据加密:</h3><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608160353506.png" alt="image-20230608160353506"></p>
<h2 id="3-2-数据完整性"><a href="#3-2-数据完整性" class="headerlink" title="3.2 数据完整性:"></a>3.2 数据完整性:</h2><h3 id="3-2-1-域完整性"><a href="#3-2-1-域完整性" class="headerlink" title="3.2.1 域完整性:"></a>3.2.1 域完整性:</h3><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608160459884.png" alt="image-20230608160459884"></p>
<p>在create table时候定义.</p>
<h3 id="3-2-2-实体完整性"><a href="#3-2-2-实体完整性" class="headerlink" title="3.2.2 实体完整性:"></a>3.2.2 实体完整性:</h3><p>指关系的主码不能重复也不能取空值.</p>
<h3 id="3-2-3-关系完整性"><a href="#3-2-3-关系完整性" class="headerlink" title="3.2.3 关系完整性:"></a>3.2.3 关系完整性:</h3><p>主外键之间互相参照完整.</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608160637100.png" alt="image-20230608160637100"></p>
<h3 id="3-2-4-断言"><a href="#3-2-4-断言" class="headerlink" title="3.2.4 断言:"></a>3.2.4 断言:</h3><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608160728558.png" alt="image-20230608160728558"></p>
<h3 id="3-2-5-触发器"><a href="#3-2-5-触发器" class="headerlink" title="3.2.5 触发器:"></a>3.2.5 触发器:</h3><p>触发器是用户定义在关系表上的一类由事件驱动的特殊过程</p>
<p>定义之后的触发器存储在数据库服务器中.</p>
<p>任何用户对表的增、删、改操作均由服务器自动激活相应的触发器.</p>
<p>不同RDBMS实现的触发器语法各不行同，互不兼容.</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608160814723.png" alt="image-20230608160814723"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">create trigger check2 after delete on Course</span><br><span class="line"></span><br><span class="line">referencing old row as orow</span><br><span class="line"></span><br><span class="line">for each row</span><br><span class="line"></span><br><span class="line">when (orow.cno not in (select cno from Course)</span><br><span class="line"></span><br><span class="line">and orow.cno in (select cno from SC))</span><br><span class="line"></span><br><span class="line">begin</span><br><span class="line"></span><br><span class="line">rollback</span><br><span class="line"></span><br><span class="line">end;</span><br></pre></td></tr></table></figure>

<h1 id="4-数据库设计："><a href="#4-数据库设计：" class="headerlink" title="4.数据库设计："></a>4.数据库设计：</h1><h2 id="4-1-数据库设计步骤："><a href="#4-1-数据库设计步骤：" class="headerlink" title="4.1 数据库设计步骤："></a>4.1 数据库设计步骤：</h2><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608161258687.png" alt="image-20230608161258687"></p>
<h2 id="4-2-概念数据库设计："><a href="#4-2-概念数据库设计：" class="headerlink" title="4.2 概念数据库设计："></a>4.2 概念数据库设计：</h2><p>主要包括模式设计和事务设计。</p>
<p>模式设计以实体为主,产出ER图。</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608161741986.png" alt="image-20230608161741986"></p>
<p>er图举例子:</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230609075822365.png" alt="image-20230609075822365"></p>
<h2 id="4-3-逻辑数据库设计："><a href="#4-3-逻辑数据库设计：" class="headerlink" title="4.3 逻辑数据库设计："></a>4.3 逻辑数据库设计：</h2><p>把概念数据库设计阶段产生的概念数据库模式,变换为逻辑数据库模式.</p>
<p>动态关系至少具有第三规范形式，静态关系至少具有第一规范形式；</p>
<p>转化格式为:</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230609075859713.png" alt="image-20230609075859713"></p>
<p>加下划线的为数据库表的主键.</p>
<h3 id="4-3-1-关系的转化："><a href="#4-3-1-关系的转化：" class="headerlink" title="4.3.1 关系的转化："></a>4.3.1 关系的转化：</h3><p>一对一：</p>
<p>1.在一中增加另一个一的对应字段。</p>
<p>2.建立一个单独的关系表示（不推荐）</p>
<p>一对多：</p>
<p>1.在多中建立字段表征一.</p>
<p>2.单独建立表.</p>
<p>多对多：</p>
<p>建立中间表。</p>
<h3 id="4-3-2-函数依赖："><a href="#4-3-2-函数依赖：" class="headerlink" title="4.3.2 函数依赖："></a>4.3.2 函数依赖：</h3><p>可以通过属性x确定属性y，则称y依赖于x。</p>
<p>若y不是x的子集，则称为非平凡函数依赖。一般依赖均指非平凡函数依赖。</p>
<h4 id="4-3-2-1-各种其他依赖："><a href="#4-3-2-1-各种其他依赖：" class="headerlink" title="4.3.2.1 各种其他依赖："></a>4.3.2.1 各种其他依赖：</h4><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608162748238.png" alt="image-20230608162748238"></p>
<h4 id="4-3-2-2-依赖求解："><a href="#4-3-2-2-依赖求解：" class="headerlink" title="4.3.2.2 依赖求解："></a>4.3.2.2 依赖求解：</h4><h5 id="1-求候选键："><a href="#1-求候选键：" class="headerlink" title="1.求候选键："></a>1.求候选键：</h5><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230609080144929.png"></p>
<p>首先进行分类。</p>
<p>对于给定的关系模式及其函数依赖集F，若X(X∈R)是L类属性，则X必为R的任一候选键的成员。</p>
<p>对候选键的成员进行组合，如果某一组合的闭包：</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230609080512283.png" alt="image-20230609080512283"></p>
<p>是全部列，那么这个组合为候选键。</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230609080601134.png" alt="image-20230609080601134"></p>
<h5 id="2-求最小覆盖："><a href="#2-求最小覆盖：" class="headerlink" title="2.求最小覆盖："></a>2.求最小覆盖：</h5><p>让依赖看起来尽可能的简介，右侧只能有一个属性。</p>
<h5 id="3-模式分解："><a href="#3-模式分解：" class="headerlink" title="3.模式分解："></a>3.模式分解：</h5><p>将一个1NF的关系分解为多个2NF的关系。</p>
<h5 id="4-无损连接性："><a href="#4-无损连接性：" class="headerlink" title="4.无损连接性："></a>4.无损连接性：</h5><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230609081216198.png" alt="image-20230609081216198"></p>
<p>判断无损连接性的方法：</p>
<p>1.初始化一张图：</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230609081916100.png" alt="image-20230609081916100"></p>
<p>上方是所有的属性，左侧是最后的划分。</p>
<p>a1到a5是一个元组，根据左侧划分填入表中。</p>
<p>2.填数：</p>
<p>根据依赖的顺序，找左侧数据，如果左侧行数据是a，则修改这些行所在的右侧列的值.</p>
<p>右侧有a则是a，右侧没有a则随便换一个b上去。</p>
<p>3.结束：</p>
<p>直到出现一行全是a的情况，出现则代表有无损连接性，不出现则没有无损连接性。</p>
<h3 id="4-3-3-范式："><a href="#4-3-3-范式：" class="headerlink" title="4.3.3 范式："></a>4.3.3 范式：</h3><h4 id="4-3-3-1-第一范式（1NF）"><a href="#4-3-3-1-第一范式（1NF）" class="headerlink" title="4.3.3.1 第一范式（1NF）:"></a>4.3.3.1 第一范式（1NF）:</h4><p>设R是一个关系模式。如果R的每个属性的值域都是不可分的简单数据项的集合，则称这个关系模式为第一范式关系模式，记作1NF。</p>
<h4 id="4-3-3-2-第二范式（2NF）"><a href="#4-3-3-2-第二范式（2NF）" class="headerlink" title="4.3.3.2 第二范式（2NF）:"></a>4.3.3.2 第二范式（2NF）:</h4><p>若关系模式R是1NF，而且每一个非键属性都完全函数依赖于R的候选键(码)，则R称为第二范式关系模式，记作2NF。</p>
<p>在满足1NF的前提下，表中不存在部分依赖，非主键列要完全依赖于主键。(主要是说在联合主键的情况下，非主键列不能只依赖于主键的一部分)。</p>
<p>举个例子：</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608163330446.png" alt="image-20230608163330446"></p>
<p><strong>缺点</strong>：<br>1·对于查询需要对多个表进行关联，导致性能降低<br>2·更难进行索引优化</p>
<h4 id="4-3-3-3-第三范式（3NF）"><a href="#4-3-3-3-第三范式（3NF）" class="headerlink" title="4.3.3.3 第三范式（3NF）:"></a>4.3.3.3 第三范式（3NF）:</h4><p>不存在传递依赖。</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608163435860.png" alt="image-20230608163435860"></p>
<p><img src="C:\Users\wpy\AppData\Roaming\Typora\typora-user-images\image-20230608163900922.png" alt="image-20230608163900922"></p>
<p>设计范式的要求：</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608163932353.png" alt="image-20230608163932353"></p>
<h2 id="4-4-物理数据库设计："><a href="#4-4-物理数据库设计：" class="headerlink" title="4.4 物理数据库设计："></a>4.4 物理数据库设计：</h2><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608164012741.png" alt="image-20230608164012741"></p>
<h1 id="5-物理存储结构："><a href="#5-物理存储结构：" class="headerlink" title="5. 物理存储结构："></a>5. 物理存储结构：</h1><h2 id="5-1-物理存储设备："><a href="#5-1-物理存储设备：" class="headerlink" title="5.1 物理存储设备："></a>5.1 物理存储设备：</h2><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608204100360.png" alt="image-20230608204100360"></p>
<h2 id="5-2-磁盘："><a href="#5-2-磁盘：" class="headerlink" title="5.2 磁盘："></a>5.2 磁盘：</h2><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608204139802.png" alt="image-20230608204139802"></p>
<p>随机存取。</p>
<p>以扇区为单位。</p>
<p>磁盘读写是数据库应用的瓶颈，数据库的物理存储结构、数据库操作算法和查询优化的研究都把最小化磁盘读写次数作为重要目标之一。</p>
<h3 id="5-2-1-缓冲处理："><a href="#5-2-1-缓冲处理：" class="headerlink" title="5.2.1 缓冲处理："></a>5.2.1 缓冲处理：</h3><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608204309882.png" alt="image-20230608204309882"></p>
<h2 id="5-3-磁盘文件："><a href="#5-3-磁盘文件：" class="headerlink" title="5.3 磁盘文件："></a>5.3 磁盘文件：</h2><h3 id="5-3-1-文件和关系："><a href="#5-3-1-文件和关系：" class="headerlink" title="5.3.1 文件和关系："></a>5.3.1 文件和关系：</h3><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608204427759.png" alt="image-20230608204427759"></p>
<h3 id="5-3-2-文件记录："><a href="#5-3-2-文件记录：" class="headerlink" title="5.3.2 文件记录："></a>5.3.2 文件记录：</h3><p>主要分为定长记录和边长记录：</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608204528790.png" alt="image-20230608204528790"></p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608204538995.png" alt="image-20230608204538995"></p>
<h3 id="5-3-3-无序与有序文件："><a href="#5-3-3-无序与有序文件：" class="headerlink" title="5.3.3 无序与有序文件："></a>5.3.3 无序与有序文件：</h3><p>无序文件：查找效率低，增删效率高。</p>
<p>有序文件：查找效率高，插入效率低。</p>
<h2 id="5-4-HASH文件："><a href="#5-4-HASH文件：" class="headerlink" title="5.4 HASH文件："></a>5.4 HASH文件：</h2><p>用Hash函数来存储和存取关系记录。</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608204843781.png" alt="image-20230608204843781"></p>
<p>简单hash不再赘述。</p>
<p>动态hash：</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608204916399.png" alt="image-20230608204916399"></p>
<p>可拓展hash：</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608204937612.png" alt="image-20230608204937612"></p>
<p>线性hash:</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608205002640.png" alt="image-20230608205002640"></p>
<h2 id="5-5-索引文件："><a href="#5-5-索引文件：" class="headerlink" title="5.5 索引文件："></a>5.5 索引文件：</h2><p>索引是一种数据结构，通常是有序文件。</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608205049857.png" alt="image-20230608205049857"></p>
<p>索引文件分类：</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608205120548.png" alt="image-20230608205120548"></p>
<h3 id="5-5-1主索引："><a href="#5-5-1主索引：" class="headerlink" title="5.5.1主索引："></a>5.5.1主索引：</h3><p>索引域是主键。</p>
<h3 id="5-5-2-聚集索引："><a href="#5-5-2-聚集索引：" class="headerlink" title="5.5.2 聚集索引："></a>5.5.2 聚集索引：</h3><p>排序，一一对应。</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608205330501.png" alt="image-20230608205330501"></p>
<h3 id="5-5-3-辅助索引："><a href="#5-5-3-辅助索引：" class="headerlink" title="5.5.3 辅助索引："></a>5.5.3 辅助索引：</h3><p>建立在键值之上：</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608205419798.png" alt="image-20230608205419798"></p>
<h3 id="5-5-4-b＋树索引："><a href="#5-5-4-b＋树索引：" class="headerlink" title="5.5.4 b＋树索引："></a>5.5.4 b＋树索引：</h3><p>定义：</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608205541287.png" alt="image-20230608205541287"></p>
<p>举例：</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608205527630.png"></p>
<p>特征：</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608205627655.png" alt="image-20230608205627655"></p>
<h3 id="5-5-5-多维索引："><a href="#5-5-5-多维索引：" class="headerlink" title="5.5.5 多维索引："></a>5.5.5 多维索引：</h3><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608205705602.png" alt="image-20230608205705602"></p>
<h1 id="6-查询处理与优化："><a href="#6-查询处理与优化：" class="headerlink" title="6. 查询处理与优化："></a>6. 查询处理与优化：</h1><h2 id="6-1-关系代数操作算法："><a href="#6-1-关系代数操作算法：" class="headerlink" title="6.1 关系代数操作算法："></a>6.1 关系代数操作算法：</h2><p>算法运行环境：</p>
<p>M+1个缓冲区(输入和输出)+外存中存放的数据。</p>
<p>算法运行代价：</p>
<p>磁盘块存取数。</p>
<h3 id="6-1-1-选择操作："><a href="#6-1-1-选择操作：" class="headerlink" title="6.1.1 选择操作："></a>6.1.1 选择操作：</h3><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608205928006.png" alt="image-20230608205928006"></p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608205935151.png" alt="image-20230608205935151"></p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608205948344.png" alt="image-20230608205948344"></p>
<h3 id="6-1-2-投影操作："><a href="#6-1-2-投影操作：" class="headerlink" title="6.1.2 投影操作："></a>6.1.2 投影操作：</h3><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608210120472.png" alt="image-20230608210120472"></p>
<h3 id="6-1-3-连接操作："><a href="#6-1-3-连接操作：" class="headerlink" title="6.1.3 连接操作："></a>6.1.3 连接操作：</h3><p>三种连接算法：</p>
<h4 id="6-1-3-1-nest-loop-join"><a href="#6-1-3-1-nest-loop-join" class="headerlink" title="6.1.3.1.nest-loop-join:"></a>6.1.3.1.nest-loop-join:</h4><p>循环暴力.</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608210512866.png" alt="image-20230608210512866"></p>
<h4 id="6-1-3-2-sort-merge-join"><a href="#6-1-3-2-sort-merge-join" class="headerlink" title="6.1.3.2.sort-merge join:"></a>6.1.3.2.sort-merge join:</h4><p>排序之后匹配。</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608210333645.png" alt="image-20230608210333645"></p>
<h4 id="6-1-3-3-hash-join："><a href="#6-1-3-3-hash-join：" class="headerlink" title="6.1.3.3:hash-join："></a>6.1.3.3:hash-join：</h4><p>分别哈希，对比哈希值。</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608210408546.png" alt="image-20230608210408546"></p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608210706403.png" alt="image-20230608210706403"></p>
<h4 id="6-1-3-4-计算连接代价："><a href="#6-1-3-4-计算连接代价：" class="headerlink" title="6.1.3.4 计算连接代价："></a>6.1.3.4 计算连接代价：</h4><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230609084259340.png" alt="image-20230609084259340"></p>
<p>取代价最小的连接顺序。</p>
<h3 id="6-1-4-集合操作："><a href="#6-1-4-集合操作：" class="headerlink" title="6.1.4 集合操作："></a>6.1.4 集合操作：</h3><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608210801197.png" alt="image-20230608210801197"></p>
<h2 id="6-2-查询优化："><a href="#6-2-查询优化：" class="headerlink" title="6.2 查询优化："></a>6.2 查询优化：</h2><h3 id="6-2-1-下推选择："><a href="#6-2-1-下推选择：" class="headerlink" title="6.2.1 下推选择："></a>6.2.1 下推选择：</h3><p>当查询中涉及视图时，某些情况下：</p>
<p>首先将选择操作尽可能往树的上部移动是很重要的。然后再把选择下推到所有可能的分枝。</p>
<h3 id="6-2-2-启发式优化："><a href="#6-2-2-启发式优化：" class="headerlink" title="6.2.2 启发式优化："></a>6.2.2 启发式优化：</h3><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608211140851.png" alt="image-20230608211140851"></p>
<h3 id="6-2-3-操作代价的估计："><a href="#6-2-3-操作代价的估计：" class="headerlink" title="6.2.3 操作代价的估计："></a>6.2.3 操作代价的估计：</h3><p>由逻辑计划可派生出多个不同物理计划。</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608211222742.png" alt="image-20230608211222742"></p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608211323662.png" alt="image-20230608211323662"></p>
<p>连接条件的结果估计：</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608211609026.png" alt="image-20230608211609026"></p>
<h3 id="6-2-4-选择连接顺序："><a href="#6-2-4-选择连接顺序：" class="headerlink" title="6.2.4 选择连接顺序："></a>6.2.4 选择连接顺序：</h3><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608211720410.png" alt="image-20230608211720410"></p>
<h3 id="6-2-5-物化与流水化："><a href="#6-2-5-物化与流水化：" class="headerlink" title="6.2.5 物化与流水化："></a>6.2.5 物化与流水化：</h3><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608211814583.png" alt="image-20230608211814583"></p>
<h3 id="6-2-6-其他策略："><a href="#6-2-6-其他策略：" class="headerlink" title="6.2.6 其他策略："></a>6.2.6 其他策略：</h3><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608212107861.png" alt="image-20230608212107861"></p>
<p>小结：</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608212151194.png" alt="image-20230608212151194"></p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608212159546.png" alt="image-20230608212159546"></p>
<h1 id="7-事务处理与恢复："><a href="#7-事务处理与恢复：" class="headerlink" title="7.事务处理与恢复："></a>7.事务处理与恢复：</h1><h2 id="7-1-事务："><a href="#7-1-事务：" class="headerlink" title="7.1 事务："></a>7.1 事务：</h2><p>是用户定义的一个数据库操作序列，这些操作要么全做，要么全不做，是一个不可分割的工作单位。</p>
<p>一个事务由一条或者多条SQL语句组成，一个程序中有一个或者多个事务。</p>
<p>事务是并发控制和恢复的基本单位。</p>
<h2 id="7-2-定义："><a href="#7-2-定义：" class="headerlink" title="7.2 定义："></a>7.2 定义：</h2><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608222227468.png" alt="image-20230608222227468"></p>
<h2 id="7-3-特性"><a href="#7-3-特性" class="headerlink" title="7.3 特性:"></a>7.3 特性:</h2><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608222324166.png" alt="image-20230608222324166"></p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608222339616.png" alt="image-20230608222339616"></p>
<h2 id="7-4-并发控制保证"><a href="#7-4-并发控制保证" class="headerlink" title="7.4 并发控制保证:"></a>7.4 并发控制保证:</h2><p>多个事务同时运行时,保证i.</p>
<p>事务在运行过程中被强行停止时,保证ad.</p>
<h2 id="7-5-原理"><a href="#7-5-原理" class="headerlink" title="7.5 原理:"></a>7.5 原理:</h2><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608222534196.png" alt="image-20230608222534196"></p>
<h2 id="7-6-事务执行方式"><a href="#7-6-事务执行方式" class="headerlink" title="7.6 事务执行方式:"></a>7.6 事务执行方式:</h2><p>在同一时刻并发运行大量事务时,有多种实现方式.</p>
<h3 id="7-6-1-串行执行"><a href="#7-6-1-串行执行" class="headerlink" title="7.6.1 串行执行:"></a>7.6.1 串行执行:</h3><p>同一时刻只有一个事务在运行.</p>
<p>比较简单,但是不能充分的利用系统资源.</p>
<h3 id="7-6-2-交叉并发"><a href="#7-6-2-交叉并发" class="headerlink" title="7.6.2 交叉并发:"></a>7.6.2 交叉并发:</h3><p>交替执行事务.</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608222801329.png" alt="image-20230608222801329"></p>
<h3 id="7-6-3-同时并发"><a href="#7-6-3-同时并发" class="headerlink" title="7.6.3 同时并发:"></a>7.6.3 同时并发:</h3><p>多个处理机同时运行多个事务.</p>
<p>是最理想的并发事务处理方式.</p>
<h2 id="7-7-并发问题以及解决"><a href="#7-7-并发问题以及解决" class="headerlink" title="7.7 并发问题以及解决:"></a>7.7 并发问题以及解决:</h2><h3 id="7-7-1-并发问题"><a href="#7-7-1-并发问题" class="headerlink" title="7.7.1 并发问题:"></a>7.7.1 并发问题:</h3><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608222941882.png" alt="image-20230608222941882"></p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608223016624.png" alt="image-20230608223016624"></p>
<h3 id="7-7-2-事务调度"><a href="#7-7-2-事务调度" class="headerlink" title="7.7.2 事务调度:"></a>7.7.2 事务调度:</h3><h4 id="7-7-2-1-串行调度"><a href="#7-7-2-1-串行调度" class="headerlink" title="7.7.2.1 串行调度."></a>7.7.2.1 串行调度.</h4><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608223057400.png" alt="image-20230608223057400"></p>
<p>是正确的,但是用串行执行一样,存在系统资源利用率不高的问题.</p>
<h4 id="7-7-2-2-可串行化调度"><a href="#7-7-2-2-可串行化调度" class="headerlink" title="7.7.2.2 可串行化调度:"></a>7.7.2.2 可串行化调度:</h4><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608223308532.png" alt="image-20230608223308532"></p>
<h4 id="7-7-2-3事务调度的表示方式"><a href="#7-7-2-3事务调度的表示方式" class="headerlink" title="7.7.2.3事务调度的表示方式:"></a>7.7.2.3事务调度的表示方式:</h4><p>r是读,w是写.</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608223352663.png" alt="image-20230608223352663"></p>
<h4 id="7-7-2-4-冲突"><a href="#7-7-2-4-冲突" class="headerlink" title="7.7.2.4 冲突:"></a>7.7.2.4 冲突:</h4><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608223458648.png" alt="image-20230608223458648"></p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608223515784.png" alt="image-20230608223515784"></p>
<h4 id="7-7-2-5-冲突可串行化"><a href="#7-7-2-5-冲突可串行化" class="headerlink" title="7.7.2.5 冲突可串行化:"></a>7.7.2.5 冲突可串行化:</h4><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608223557281.png" alt="image-20230608223557281"></p>
<p>通过相邻动作的交换,将可串行化调度转换为串行调度.</p>
<h4 id="7-7-2-6-优先图"><a href="#7-7-2-6-优先图" class="headerlink" title="7.7.2.6 优先图:"></a>7.7.2.6 优先图:</h4><p>简单的判断一个调度是否是冲突可串行化的.</p>
<p>节点是事务.</p>
<p>如果调度中存在ti小于tj(按照先后顺序判断),则存在一条由i到j的弧.</p>
<p>简单的判断方法:</p>
<p>1.根据事务的a,b(操作的对象)进行分组</p>
<p>2.按照分组后的顺序,寻找r-w,w-r,w-w,如果找到后所对应的数字不同,则存在一条弧.</p>
<p>如果画完了有环，则是非冲突可串行化，就是有冲突，但是不能串行化的。</p>
<h2 id="7-8-并发控制协议"><a href="#7-8-并发控制协议" class="headerlink" title="7.8 并发控制协议:"></a>7.8 并发控制协议:</h2><h3 id="7-8-1-锁"><a href="#7-8-1-锁" class="headerlink" title="7.8.1 锁:"></a>7.8.1 锁:</h3><p>锁是数据库元素上的并发控制标志.</p>
<p>每个事务在存取一个数据库元素之前必须获得这个数据库元素上的锁.</p>
<p>一个事务需要获得的锁的类型依赖于它将在数据库元素上执行什么样的操作.</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608225106550.png" alt="image-20230608225106550"></p>
<h3 id="7-8-2-两阶段锁协议"><a href="#7-8-2-两阶段锁协议" class="headerlink" title="7.8.2 两阶段锁协议:"></a>7.8.2 两阶段锁协议:</h3><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608225149660.png" alt="image-20230608225149660"></p>
<h3 id="7-8-3-时间戳协议"><a href="#7-8-3-时间戳协议" class="headerlink" title="7.8.3 时间戳协议:"></a>7.8.3 时间戳协议:</h3><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608225232710.png" alt="image-20230608225232710"></p>
<h1 id="8-故障恢复"><a href="#8-故障恢复" class="headerlink" title="8. 故障恢复:"></a>8. 故障恢复:</h1><h2 id="8-1-数据库恢复"><a href="#8-1-数据库恢复" class="headerlink" title="8.1 数据库恢复:"></a>8.1 数据库恢复:</h2><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608225328329.png" alt="image-20230608225328329"></p>
<h2 id="8-2-故障种类以及恢复"><a href="#8-2-故障种类以及恢复" class="headerlink" title="8.2 故障种类以及恢复:"></a>8.2 故障种类以及恢复:</h2><h3 id="8-2-1-介质故障"><a href="#8-2-1-介质故障" class="headerlink" title="8.2.1 介质故障:"></a>8.2.1 介质故障:</h3><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608225436023.png" alt="image-20230608225436023"></p>
<h3 id="8-2-2-系统故障"><a href="#8-2-2-系统故障" class="headerlink" title="8.2.2 系统故障:"></a>8.2.2 系统故障:</h3><p>撤销或者重做.</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608225515445.png" alt="image-20230608225515445"></p>
<h3 id="8-2-3-事务故障"><a href="#8-2-3-事务故障" class="headerlink" title="8.2.3 事务故障:"></a>8.2.3 事务故障:</h3><p>撤销事务,强行回滚.</p>
<h2 id="8-3-数据库恢复"><a href="#8-3-数据库恢复" class="headerlink" title="8.3 数据库恢复:"></a>8.3 数据库恢复:</h2><p>恢复整个数据库文件.</p>
<h3 id="8-3-1-基于日志的恢复"><a href="#8-3-1-基于日志的恢复" class="headerlink" title="8.3.1 基于日志的恢复:"></a>8.3.1 基于日志的恢复:</h3><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608225712126.png" alt="image-20230608225712126"></p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608225725435.png" alt="image-20230608225725435"></p>
<h4 id="8-3-1-1-日志缓冲技术"><a href="#8-3-1-1-日志缓冲技术" class="headerlink" title="8.3.1.1 日志缓冲技术:"></a>8.3.1.1 日志缓冲技术:</h4><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608225810128.png" alt="image-20230608225810128"></p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608225820534.png" alt="image-20230608225820534"></p>
<h4 id="8-3-1-2-更新技术"><a href="#8-3-1-2-更新技术" class="headerlink" title="8.3.1.2 更新技术:"></a>8.3.1.2 更新技术:</h4><p>推迟更新:</p>
<p>在一个事务所有更新操作对应的日志记录写入</p>
<p>永久存储器之前，该事务不能提交.</p>
<p>事务在不能提交之前,不能提交数据库.</p>
<p>恢复时;</p>
<p>从后往前开始扫描日志，建立两个事务表</p>
<p>提交事务表：已经提交的，且磁盘上有日志记录&lt;COMMIT *T*&gt;的所有事务</p>
<p>未提交事务表：那些具有&lt; START *T*&gt;日志记录，但无对应 &lt; COMMIT *T*&gt;的所有事务</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608230133195.png" alt="image-20230608230133195"></p>
<p>及时更新：</p>
<p>事务直接提交数据库。</p>
<h5 id="日志恢复："><a href="#日志恢复：" class="headerlink" title="日志恢复："></a>日志恢复：</h5><p>undo就是回滚.没提交的就回滚.       </p>
<p>redo就是提交.以及提交了的就提交.</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230609084703655.png" alt="image-20230609084703655"></p>
<h4 id="8-3-1-3-检查点恢复："><a href="#8-3-1-3-检查点恢复：" class="headerlink" title="8.3.1.3 检查点恢复："></a>8.3.1.3 检查点恢复：</h4><p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608230326792.png" alt="image-20230608230326792"></p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230609084845349.png" alt="image-20230609084845349"></p>
<p>1.从后到检查点.</p>
<p>2.从检查点到最后.</p>
<h3 id="8-3-2-基于冗余存储的恢复："><a href="#8-3-2-基于冗余存储的恢复：" class="headerlink" title="8.3.2 基于冗余存储的恢复："></a>8.3.2 基于冗余存储的恢复：</h3><p>主从复制.</p>
<p><img src="http://bearsblog.oss-cn-beijing.aliyuncs.com/img/image-20230608230415065.png" alt="image-20230608230415065"></p>

        </article>
        <div class="post-tools" id="post-tools">
            <div class="post-tools-left">
                
                <div class="share-link mobile">
    <div class="share-qrcode">
        <div class="share-button" title="使用手机访问这篇文章">
            <i class="fas fa-qrcode"></i>
        </div>
        <div class="share-main">
            <div class="share-main-all">
                <div id="qrcode" title="http://example.com/2023/06/08/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F/">
                </div>
                <div class="reward-dec">使用手机访问这篇文章</div>
            </div>
        </div>
        <script type="text/javascript">
            new QRCode(document.getElementById("qrcode"), "http://example.com/2023/06/08/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F/");
        </script>
    </div>
</div>
                <div class="share-link weibo"><a class="share-button" target="_blank"
    href="https://service.weibo.com/share/share.php?title=数据库系统&amp;url=http://example.com/2023/06/08/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F/&amp;pic=/img/100.jpg"
    title="分享到微博" rel="noopener external nofollow noreferrer noopener">
    <i class="fab fa-weibo" style="font-size:22px"></i>
</a>
</div>
<div class="share-link copyurl">
<div class="share-button" id="post-share-url" title="复制链接" onclick="acrylic.copyPageUrl()">
    <i class="fas fa-link"></i>
</div>
</div>
            </div>
            <div class="post-tools-right">
                <div class="tag_share">
                    <div class="post-meta__tag-list">
                        
                            <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" class="post-meta__tags">
                                <span class="tags-punctuation">#</span>
                                数据库
                                <span class="tagsPageCount">2</span>
                            </a>
                        
                    </div>
                </div>
            </div>
        </div>
        <div class="post-copyright">
    <div class="post-copyright__author">
        <a class="post-copyright__original" title="该文章为原创文章，注意版权协议">原创</a>
        <a class="post-copyright-title" href="#">
            <span>数据库系统</span>
        </a>
    </div>
    <div class="post-copyright__type">
        <span class="post-copyright-info" id="post-copyright-url">
            <a href="/2023/06/08/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F/">http://example.com/2023/06/08/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F/</a>
        </span>
        <button class="post-copyright-copybtn" onclick="acrylic.copyPageUrl()">
            <i class="fas fa-paste copy-btn"></i>
        </button>
    </div>
    <div class="post-copyright__notice"><span class="post-copyright-info">本文是原创文章，采用 <a
                href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">CC BY-NC-ND 4.0</a> 协议，完整转载请注明来自 <a
                href="/">风凌渡</a>
            </span>
        </div>
</div>
        <nav class="pagination-post" id="pagination">
    
        <div class="prev-post pull-left">
            <a href="/2023/06/18/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">
                <div class="pagination-info">
                    <div class="label">上一篇</div>
                    <div class="prev_info">操作系统</div>
                </div>
            </a>
        </div>
        <div class="next-post pull-right">
            <a href="/2023/06/07/%E4%BD%8E%E4%BB%A3%E7%A0%81%E7%BB%BC%E6%B5%8B%E5%B9%B3%E5%8F%B0/">
                <div class="pagination-info">
                    <div class="label">下一篇</div>
                    <div class="next_info">低代码综测平台</div>
                </div>
            </a>
        </div>
    
</nav>
            
    </div>
    <div class="aside-content" id="aside-content">
    
    
        
        <div class="card-widget card-info">
    <div class="card-content">
        <div class="card-info-avatar is-center">
            <div class="author-info__sayhi" id="author-info__sayhi">
            </div>
            <div class="author-info__name">
                抒情熊
            </div>
            <div class="author-info__description">这有关于<b>后端</b>、<b>架构</b>的相关笔记分享，还有拙作<b>诗歌</b>和<b>小说</b>，另有如<b>奎桑提</b>和<b>奥恩</b>的相关教学。<br>相信会对你有所帮助.</div>
        </div>
    </div>
    <div class="banner-button-group">
        <a class="banner-button" href="/about/">
            <i class="fas fa-circle-chevron-right"></i>
            <span class="banner-button-text">了解更多</span>
        </a>
    </div>
    <div class="card-info-social-icons is-center">
        
            <a class="social-icon" target="_blank" rel="noopener" href="https://github.com/bearslyricattack" title="Github">
                <i class="fa-brands fa-github"></i>
            </a>
        
            <a class="social-icon" target="_blank" rel="noopener" href="https://user.qzone.qq.com/2669184984" title="Mail">
                <i class="fa-solid fa-envelope"></i>
            </a>
        
    </div>
</div>
     
    
    <div class="sticky_layout">
        
            <div class="card-widget" id="card-toc">
    <div class="item-headline">
        <i class="fas fa-bars"></i>
        <span>文章目录</span>
    </div>
    <div class="toc-content" id="toc-content">
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F"><span class="toc-text">数据库系统</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-%E6%A6%82%E8%AE%BA"><span class="toc-text">1.概论</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">1.1 数据库:</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F"><span class="toc-text">1.2 数据库管理系统:</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-3-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F"><span class="toc-text">1.3 数据库系统:</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-4-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%8A%A3%E5%8A%BF"><span class="toc-text">1.4 文件系统的劣势:</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-5-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84"><span class="toc-text">1.5 数据库系统结构:</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-6-%E6%95%B0%E6%8D%AE%E6%8A%BD%E8%B1%A1"><span class="toc-text">1.6 数据抽象:</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-6-1-%E8%A7%86%E5%9B%BE%E6%8A%BD%E8%B1%A1"><span class="toc-text">1.6.1 视图抽象:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-6-2-%E9%80%BB%E8%BE%91%E6%8A%BD%E8%B1%A1"><span class="toc-text">1.6.2 逻辑抽象:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-6-3-%E7%89%A9%E7%90%86%E6%8A%BD%E8%B1%A1"><span class="toc-text">1.6.3 物理抽象:</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-7-%E6%95%B0%E6%8D%AE%E7%8B%AC%E7%AB%8B%E6%80%A7"><span class="toc-text">1.7 数据独立性:</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-7-1-%E7%89%A9%E7%90%86%E6%95%B0%E6%8D%AE%E7%8B%AC%E7%AB%8B%E6%80%A7"><span class="toc-text">1.7.1 物理数据独立性:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-7-2-%E9%80%BB%E8%BE%91%E6%95%B0%E6%8D%AE%E7%8B%AC%E7%AB%8B%E6%80%A7"><span class="toc-text">1.7.2 逻辑数据独立性:</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-8-%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B"><span class="toc-text">1.8 数据模型:</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-8-1-%E5%B1%82%E6%AC%A1%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B"><span class="toc-text">1.8.1 层次数据模型:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-8-2-%E7%BD%91%E7%8A%B6%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B"><span class="toc-text">1.8.2 网状数据模型:</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-9-%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AF%AD%E8%A8%80"><span class="toc-text">1.9 数据库语言:</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">2.关系数据库:</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%9E%8B"><span class="toc-text">2.1 关系模型:</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-text">2.2 关系数据结构的基本概念:</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-1%E5%B1%9E%E6%80%A7"><span class="toc-text">2.2.1属性:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-2%E5%9F%9F"><span class="toc-text">2.2.2域:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-3%E5%85%B3%E7%B3%BB"><span class="toc-text">2.2.3关系:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-4%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%BC%8F"><span class="toc-text">2.2.4关系模式:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-5-%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">2.2.5 关系数据库:</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3-%E5%AE%8C%E6%95%B4%E6%80%A7%E7%BA%A6%E6%9D%9F"><span class="toc-text">2.3 完整性约束:</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-1-%E8%B6%85%E7%A0%81"><span class="toc-text">2.3.1 超码:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-2-%E5%80%99%E9%80%89%E7%A0%81"><span class="toc-text">2.3.2 候选码:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-3-%E4%B8%BB%E9%94%AE-%E4%B8%BB%E7%A0%81"><span class="toc-text">2.3.3 主键(主码):</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-4-%E5%A4%96%E9%94%AE-%E5%A4%96%E7%A0%81"><span class="toc-text">2.3.4 外键(外码):</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-5-%E5%AE%9E%E4%BD%93%E5%AE%8C%E6%95%B4%E6%80%A7%E7%BA%A6%E6%9D%9F"><span class="toc-text">2.3.5 实体完整性约束:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-6-%E5%85%B3%E8%81%94%E5%AE%8C%E6%95%B4%E6%80%A7%E7%BA%A6%E6%9D%9F"><span class="toc-text">2.3.6 关联完整性约束:</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-4-%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97"><span class="toc-text">2.4 关系运算:</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-1-%E5%85%B3%E7%B3%BB%E4%BB%A3%E6%95%B0%E8%BF%90%E7%AE%97"><span class="toc-text">2.4.1 关系代数运算:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-2-%E9%99%84%E5%8A%A0%E5%85%B3%E7%B3%BB%E4%BB%A3%E6%95%B0%E8%BF%90%E7%AE%97"><span class="toc-text">2.4.2 附加关系代数运算:</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-2-1-%E7%AD%89%E5%80%BC%E8%BF%9E%E6%8E%A5"><span class="toc-text">2.4.2.1 等值连接:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-2-2-%E8%87%AA%E7%84%B6%E8%BF%9E%E6%8E%A5"><span class="toc-text">2.4.2.2 自然连接:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-2-3-%E5%B7%A6%E5%A4%96%E8%BF%9E%E6%8E%A5"><span class="toc-text">2.4.2.3 左外连接:</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-3-%E6%8B%93%E5%B1%95%E5%85%B3%E7%B3%BB%E4%BB%A3%E6%95%B0%E8%BF%90%E7%AE%97"><span class="toc-text">2.4.3 拓展关系代数运算:</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-5-%E5%85%83%E7%BB%84%E5%85%B3%E7%B3%BB%E6%BC%94%E7%AE%97"><span class="toc-text">2.5 元组关系演算:</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-6-%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97%E5%AE%89%E5%85%A8%E6%80%A7"><span class="toc-text">2.6 关系运算安全性:</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-7-SQL"><span class="toc-text">2.7 SQL:</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-7-1-DDL"><span class="toc-text">2.7.1 DDL:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-7-2-%E6%8E%88%E6%9D%83%EF%BC%9A"><span class="toc-text">2.7.2 授权：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-7-3-%E6%9F%A5%E8%AF%A2%EF%BC%9A"><span class="toc-text">2.7.3 查询：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-7-3-1-%E5%8D%95%E8%A1%A8%E6%9F%A5%E8%AF%A2%EF%BC%9A"><span class="toc-text">2.7.3.1 单表查询：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-7-3-2-%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2%EF%BC%9A"><span class="toc-text">2.7.3.2 连接查询：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-7-3-3-%E5%B5%8C%E5%A5%97%E6%9F%A5%E8%AF%A2%EF%BC%9A"><span class="toc-text">2.7.3.3 嵌套查询：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-7-4-%E6%8F%92%E5%85%A5%EF%BC%9A"><span class="toc-text">2.7.4 插入：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-7-5-%E6%9B%B4%E6%96%B0%EF%BC%9A"><span class="toc-text">2.7.5 更新：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-7-6-%E5%88%A0%E9%99%A4%EF%BC%9A"><span class="toc-text">2.7.6 删除：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%8C%E5%85%A8%E6%80%A7%E4%B8%8E%E5%AE%8C%E6%95%B4%E6%80%A7"><span class="toc-text">3.数据库完全性与完整性:</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-%E5%AE%89%E5%85%A8%E6%80%A7"><span class="toc-text">3.1 安全性:</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-1-%E7%94%A8%E6%88%B7%E6%A0%87%E8%AF%86%E4%B8%8E%E9%89%B4%E5%88%AB"><span class="toc-text">3.1.1 用户标识与鉴别:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-2-%E5%AD%98%E5%8F%96%E6%8E%A7%E5%88%B6%E6%9C%BA%E5%88%B6"><span class="toc-text">3.1.2 存取控制机制:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-3-%E6%8E%88%E6%9D%83%E4%B8%8E%E6%9D%83%E9%99%90%E6%94%B6%E5%9B%9E"><span class="toc-text">3.1.3 授权与权限收回:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-4-%E5%AE%A1%E8%AE%A1"><span class="toc-text">3.1.4 审计:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-5-%E6%95%B0%E6%8D%AE%E5%8A%A0%E5%AF%86"><span class="toc-text">3.1.5 数据加密:</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-%E6%95%B0%E6%8D%AE%E5%AE%8C%E6%95%B4%E6%80%A7"><span class="toc-text">3.2 数据完整性:</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-1-%E5%9F%9F%E5%AE%8C%E6%95%B4%E6%80%A7"><span class="toc-text">3.2.1 域完整性:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-2-%E5%AE%9E%E4%BD%93%E5%AE%8C%E6%95%B4%E6%80%A7"><span class="toc-text">3.2.2 实体完整性:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-3-%E5%85%B3%E7%B3%BB%E5%AE%8C%E6%95%B4%E6%80%A7"><span class="toc-text">3.2.3 关系完整性:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-4-%E6%96%AD%E8%A8%80"><span class="toc-text">3.2.4 断言:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-5-%E8%A7%A6%E5%8F%91%E5%99%A8"><span class="toc-text">3.2.5 触发器:</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%EF%BC%9A"><span class="toc-text">4.数据库设计：</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#4-1-%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E6%AD%A5%E9%AA%A4%EF%BC%9A"><span class="toc-text">4.1 数据库设计步骤：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-2-%E6%A6%82%E5%BF%B5%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%EF%BC%9A"><span class="toc-text">4.2 概念数据库设计：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-3-%E9%80%BB%E8%BE%91%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%EF%BC%9A"><span class="toc-text">4.3 逻辑数据库设计：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-1-%E5%85%B3%E7%B3%BB%E7%9A%84%E8%BD%AC%E5%8C%96%EF%BC%9A"><span class="toc-text">4.3.1 关系的转化：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-2-%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96%EF%BC%9A"><span class="toc-text">4.3.2 函数依赖：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-3-2-1-%E5%90%84%E7%A7%8D%E5%85%B6%E4%BB%96%E4%BE%9D%E8%B5%96%EF%BC%9A"><span class="toc-text">4.3.2.1 各种其他依赖：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-3-2-2-%E4%BE%9D%E8%B5%96%E6%B1%82%E8%A7%A3%EF%BC%9A"><span class="toc-text">4.3.2.2 依赖求解：</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E6%B1%82%E5%80%99%E9%80%89%E9%94%AE%EF%BC%9A"><span class="toc-text">1.求候选键：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E6%B1%82%E6%9C%80%E5%B0%8F%E8%A6%86%E7%9B%96%EF%BC%9A"><span class="toc-text">2.求最小覆盖：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E6%A8%A1%E5%BC%8F%E5%88%86%E8%A7%A3%EF%BC%9A"><span class="toc-text">3.模式分解：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-%E6%97%A0%E6%8D%9F%E8%BF%9E%E6%8E%A5%E6%80%A7%EF%BC%9A"><span class="toc-text">4.无损连接性：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-3-%E8%8C%83%E5%BC%8F%EF%BC%9A"><span class="toc-text">4.3.3 范式：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-3-3-1-%E7%AC%AC%E4%B8%80%E8%8C%83%E5%BC%8F%EF%BC%881NF%EF%BC%89"><span class="toc-text">4.3.3.1 第一范式（1NF）:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-3-3-2-%E7%AC%AC%E4%BA%8C%E8%8C%83%E5%BC%8F%EF%BC%882NF%EF%BC%89"><span class="toc-text">4.3.3.2 第二范式（2NF）:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-3-3-3-%E7%AC%AC%E4%B8%89%E8%8C%83%E5%BC%8F%EF%BC%883NF%EF%BC%89"><span class="toc-text">4.3.3.3 第三范式（3NF）:</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-4-%E7%89%A9%E7%90%86%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%EF%BC%9A"><span class="toc-text">4.4 物理数据库设计：</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#5-%E7%89%A9%E7%90%86%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84%EF%BC%9A"><span class="toc-text">5. 物理存储结构：</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#5-1-%E7%89%A9%E7%90%86%E5%AD%98%E5%82%A8%E8%AE%BE%E5%A4%87%EF%BC%9A"><span class="toc-text">5.1 物理存储设备：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-2-%E7%A3%81%E7%9B%98%EF%BC%9A"><span class="toc-text">5.2 磁盘：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-1-%E7%BC%93%E5%86%B2%E5%A4%84%E7%90%86%EF%BC%9A"><span class="toc-text">5.2.1 缓冲处理：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-3-%E7%A3%81%E7%9B%98%E6%96%87%E4%BB%B6%EF%BC%9A"><span class="toc-text">5.3 磁盘文件：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-1-%E6%96%87%E4%BB%B6%E5%92%8C%E5%85%B3%E7%B3%BB%EF%BC%9A"><span class="toc-text">5.3.1 文件和关系：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-2-%E6%96%87%E4%BB%B6%E8%AE%B0%E5%BD%95%EF%BC%9A"><span class="toc-text">5.3.2 文件记录：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-3-%E6%97%A0%E5%BA%8F%E4%B8%8E%E6%9C%89%E5%BA%8F%E6%96%87%E4%BB%B6%EF%BC%9A"><span class="toc-text">5.3.3 无序与有序文件：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-4-HASH%E6%96%87%E4%BB%B6%EF%BC%9A"><span class="toc-text">5.4 HASH文件：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-5-%E7%B4%A2%E5%BC%95%E6%96%87%E4%BB%B6%EF%BC%9A"><span class="toc-text">5.5 索引文件：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-1%E4%B8%BB%E7%B4%A2%E5%BC%95%EF%BC%9A"><span class="toc-text">5.5.1主索引：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-2-%E8%81%9A%E9%9B%86%E7%B4%A2%E5%BC%95%EF%BC%9A"><span class="toc-text">5.5.2 聚集索引：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-3-%E8%BE%85%E5%8A%A9%E7%B4%A2%E5%BC%95%EF%BC%9A"><span class="toc-text">5.5.3 辅助索引：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-4-b%EF%BC%8B%E6%A0%91%E7%B4%A2%E5%BC%95%EF%BC%9A"><span class="toc-text">5.5.4 b＋树索引：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-5-%E5%A4%9A%E7%BB%B4%E7%B4%A2%E5%BC%95%EF%BC%9A"><span class="toc-text">5.5.5 多维索引：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#6-%E6%9F%A5%E8%AF%A2%E5%A4%84%E7%90%86%E4%B8%8E%E4%BC%98%E5%8C%96%EF%BC%9A"><span class="toc-text">6. 查询处理与优化：</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#6-1-%E5%85%B3%E7%B3%BB%E4%BB%A3%E6%95%B0%E6%93%8D%E4%BD%9C%E7%AE%97%E6%B3%95%EF%BC%9A"><span class="toc-text">6.1 关系代数操作算法：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-1-%E9%80%89%E6%8B%A9%E6%93%8D%E4%BD%9C%EF%BC%9A"><span class="toc-text">6.1.1 选择操作：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-2-%E6%8A%95%E5%BD%B1%E6%93%8D%E4%BD%9C%EF%BC%9A"><span class="toc-text">6.1.2 投影操作：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-3-%E8%BF%9E%E6%8E%A5%E6%93%8D%E4%BD%9C%EF%BC%9A"><span class="toc-text">6.1.3 连接操作：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#6-1-3-1-nest-loop-join"><span class="toc-text">6.1.3.1.nest-loop-join:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-1-3-2-sort-merge-join"><span class="toc-text">6.1.3.2.sort-merge join:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-1-3-3-hash-join%EF%BC%9A"><span class="toc-text">6.1.3.3:hash-join：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-1-3-4-%E8%AE%A1%E7%AE%97%E8%BF%9E%E6%8E%A5%E4%BB%A3%E4%BB%B7%EF%BC%9A"><span class="toc-text">6.1.3.4 计算连接代价：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-4-%E9%9B%86%E5%90%88%E6%93%8D%E4%BD%9C%EF%BC%9A"><span class="toc-text">6.1.4 集合操作：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-2-%E6%9F%A5%E8%AF%A2%E4%BC%98%E5%8C%96%EF%BC%9A"><span class="toc-text">6.2 查询优化：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-1-%E4%B8%8B%E6%8E%A8%E9%80%89%E6%8B%A9%EF%BC%9A"><span class="toc-text">6.2.1 下推选择：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-2-%E5%90%AF%E5%8F%91%E5%BC%8F%E4%BC%98%E5%8C%96%EF%BC%9A"><span class="toc-text">6.2.2 启发式优化：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-3-%E6%93%8D%E4%BD%9C%E4%BB%A3%E4%BB%B7%E7%9A%84%E4%BC%B0%E8%AE%A1%EF%BC%9A"><span class="toc-text">6.2.3 操作代价的估计：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-4-%E9%80%89%E6%8B%A9%E8%BF%9E%E6%8E%A5%E9%A1%BA%E5%BA%8F%EF%BC%9A"><span class="toc-text">6.2.4 选择连接顺序：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-5-%E7%89%A9%E5%8C%96%E4%B8%8E%E6%B5%81%E6%B0%B4%E5%8C%96%EF%BC%9A"><span class="toc-text">6.2.5 物化与流水化：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-6-%E5%85%B6%E4%BB%96%E7%AD%96%E7%95%A5%EF%BC%9A"><span class="toc-text">6.2.6 其他策略：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#7-%E4%BA%8B%E5%8A%A1%E5%A4%84%E7%90%86%E4%B8%8E%E6%81%A2%E5%A4%8D%EF%BC%9A"><span class="toc-text">7.事务处理与恢复：</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#7-1-%E4%BA%8B%E5%8A%A1%EF%BC%9A"><span class="toc-text">7.1 事务：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-2-%E5%AE%9A%E4%B9%89%EF%BC%9A"><span class="toc-text">7.2 定义：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-3-%E7%89%B9%E6%80%A7"><span class="toc-text">7.3 特性:</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-4-%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6%E4%BF%9D%E8%AF%81"><span class="toc-text">7.4 并发控制保证:</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-5-%E5%8E%9F%E7%90%86"><span class="toc-text">7.5 原理:</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-6-%E4%BA%8B%E5%8A%A1%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8F"><span class="toc-text">7.6 事务执行方式:</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6-1-%E4%B8%B2%E8%A1%8C%E6%89%A7%E8%A1%8C"><span class="toc-text">7.6.1 串行执行:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6-2-%E4%BA%A4%E5%8F%89%E5%B9%B6%E5%8F%91"><span class="toc-text">7.6.2 交叉并发:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6-3-%E5%90%8C%E6%97%B6%E5%B9%B6%E5%8F%91"><span class="toc-text">7.6.3 同时并发:</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-7-%E5%B9%B6%E5%8F%91%E9%97%AE%E9%A2%98%E4%BB%A5%E5%8F%8A%E8%A7%A3%E5%86%B3"><span class="toc-text">7.7 并发问题以及解决:</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-7-1-%E5%B9%B6%E5%8F%91%E9%97%AE%E9%A2%98"><span class="toc-text">7.7.1 并发问题:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-7-2-%E4%BA%8B%E5%8A%A1%E8%B0%83%E5%BA%A6"><span class="toc-text">7.7.2 事务调度:</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#7-7-2-1-%E4%B8%B2%E8%A1%8C%E8%B0%83%E5%BA%A6"><span class="toc-text">7.7.2.1 串行调度.</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-7-2-2-%E5%8F%AF%E4%B8%B2%E8%A1%8C%E5%8C%96%E8%B0%83%E5%BA%A6"><span class="toc-text">7.7.2.2 可串行化调度:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-7-2-3%E4%BA%8B%E5%8A%A1%E8%B0%83%E5%BA%A6%E7%9A%84%E8%A1%A8%E7%A4%BA%E6%96%B9%E5%BC%8F"><span class="toc-text">7.7.2.3事务调度的表示方式:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-7-2-4-%E5%86%B2%E7%AA%81"><span class="toc-text">7.7.2.4 冲突:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-7-2-5-%E5%86%B2%E7%AA%81%E5%8F%AF%E4%B8%B2%E8%A1%8C%E5%8C%96"><span class="toc-text">7.7.2.5 冲突可串行化:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-7-2-6-%E4%BC%98%E5%85%88%E5%9B%BE"><span class="toc-text">7.7.2.6 优先图:</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-8-%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6%E5%8D%8F%E8%AE%AE"><span class="toc-text">7.8 并发控制协议:</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-8-1-%E9%94%81"><span class="toc-text">7.8.1 锁:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-8-2-%E4%B8%A4%E9%98%B6%E6%AE%B5%E9%94%81%E5%8D%8F%E8%AE%AE"><span class="toc-text">7.8.2 两阶段锁协议:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-8-3-%E6%97%B6%E9%97%B4%E6%88%B3%E5%8D%8F%E8%AE%AE"><span class="toc-text">7.8.3 时间戳协议:</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#8-%E6%95%85%E9%9A%9C%E6%81%A2%E5%A4%8D"><span class="toc-text">8. 故障恢复:</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#8-1-%E6%95%B0%E6%8D%AE%E5%BA%93%E6%81%A2%E5%A4%8D"><span class="toc-text">8.1 数据库恢复:</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-2-%E6%95%85%E9%9A%9C%E7%A7%8D%E7%B1%BB%E4%BB%A5%E5%8F%8A%E6%81%A2%E5%A4%8D"><span class="toc-text">8.2 故障种类以及恢复:</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-1-%E4%BB%8B%E8%B4%A8%E6%95%85%E9%9A%9C"><span class="toc-text">8.2.1 介质故障:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-2-%E7%B3%BB%E7%BB%9F%E6%95%85%E9%9A%9C"><span class="toc-text">8.2.2 系统故障:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-3-%E4%BA%8B%E5%8A%A1%E6%95%85%E9%9A%9C"><span class="toc-text">8.2.3 事务故障:</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-3-%E6%95%B0%E6%8D%AE%E5%BA%93%E6%81%A2%E5%A4%8D"><span class="toc-text">8.3 数据库恢复:</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-1-%E5%9F%BA%E4%BA%8E%E6%97%A5%E5%BF%97%E7%9A%84%E6%81%A2%E5%A4%8D"><span class="toc-text">8.3.1 基于日志的恢复:</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#8-3-1-1-%E6%97%A5%E5%BF%97%E7%BC%93%E5%86%B2%E6%8A%80%E6%9C%AF"><span class="toc-text">8.3.1.1 日志缓冲技术:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-3-1-2-%E6%9B%B4%E6%96%B0%E6%8A%80%E6%9C%AF"><span class="toc-text">8.3.1.2 更新技术:</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%97%A5%E5%BF%97%E6%81%A2%E5%A4%8D%EF%BC%9A"><span class="toc-text">日志恢复：</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-3-1-3-%E6%A3%80%E6%9F%A5%E7%82%B9%E6%81%A2%E5%A4%8D%EF%BC%9A"><span class="toc-text">8.3.1.3 检查点恢复：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-2-%E5%9F%BA%E4%BA%8E%E5%86%97%E4%BD%99%E5%AD%98%E5%82%A8%E7%9A%84%E6%81%A2%E5%A4%8D%EF%BC%9A"><span class="toc-text">8.3.2 基于冗余存储的恢复：</span></a></li></ol></li></ol></li></ol>
    </div>
</div>
            
        
            
        <div class="card-widget card-recent-post">
    <div class="item-headline">
        <i class="fas fa-list-ol"></i>
        <span>最近发布</span>
    </div>
    <div class="aside-list">
        
        
            <div class="aside-list-item">
                <a class="thumbnail" href="/2023/06/18/%E5%A4%A7%E4%B8%80%E7%AB%8B%E9%A1%B9%E7%88%AC%E8%99%AB/" title="大一立项爬虫">
                    <img
                        alt="大一立项爬虫"
                        src="/img/302.jpg">
                </a>
                <div class="content">
                    
                        <a class="article-recent_post_categories" href="/2023/06/18/%E5%A4%A7%E4%B8%80%E7%AB%8B%E9%A1%B9%E7%88%AC%E8%99%AB/">
                            笔记
                        </a>
                    
                    <a class="title" href="/2023/06/18/%E5%A4%A7%E4%B8%80%E7%AB%8B%E9%A1%B9%E7%88%AC%E8%99%AB/" title="大一立项爬虫">
                        大一立项爬虫
                    </a>
                </div>
            </div>
                
        
            <div class="aside-list-item">
                <a class="thumbnail" href="/2023/06/18/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" title="操作系统">
                    <img
                        alt="操作系统"
                        src="/img/301.jpg">
                </a>
                <div class="content">
                    
                        <a class="article-recent_post_categories" href="/2023/06/18/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">
                            笔记
                        </a>
                    
                    <a class="title" href="/2023/06/18/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" title="操作系统">
                        操作系统
                    </a>
                </div>
            </div>
                
        
            <div class="aside-list-item">
                <a class="thumbnail" href="/2023/06/08/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F/" title="数据库系统">
                    <img
                        alt="数据库系统"
                        src="/img/100.jpg">
                </a>
                <div class="content">
                    
                        <a class="article-recent_post_categories" href="/2023/06/08/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F/">
                            课程
                        </a>
                    
                    <a class="title" href="/2023/06/08/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F/" title="数据库系统">
                        数据库系统
                    </a>
                </div>
            </div>
                
        
            <div class="aside-list-item">
                <a class="thumbnail" href="/2023/06/07/%E4%BD%8E%E4%BB%A3%E7%A0%81%E7%BB%BC%E6%B5%8B%E5%B9%B3%E5%8F%B0/" title="低代码综测平台">
                    <img
                        alt="低代码综测平台"
                        src="/img/200.jpg">
                </a>
                <div class="content">
                    
                        <a class="article-recent_post_categories" href="/2023/06/07/%E4%BD%8E%E4%BB%A3%E7%A0%81%E7%BB%BC%E6%B5%8B%E5%B9%B3%E5%8F%B0/">
                            创作
                        </a>
                    
                    <a class="title" href="/2023/06/07/%E4%BD%8E%E4%BB%A3%E7%A0%81%E7%BB%BC%E6%B5%8B%E5%B9%B3%E5%8F%B0/" title="低代码综测平台">
                        低代码综测平台
                    </a>
                </div>
            </div>
                
        
            <div class="aside-list-item">
                <a class="thumbnail" href="/2023/06/04/%E6%9C%89%E5%8C%AA/" title="有匪">
                    <img
                        alt="有匪"
                        src="/img/400.jpg">
                </a>
                <div class="content">
                    
                        <a class="article-recent_post_categories" href="/2023/06/04/%E6%9C%89%E5%8C%AA/">
                            创作
                        </a>
                    
                    <a class="title" href="/2023/06/04/%E6%9C%89%E5%8C%AA/" title="有匪">
                        有匪
                    </a>
                </div>
            </div>
            
    </div>
</div>
     
        
    </div>
</div> 
</main>
                <footer id="footer">
                    <div id="footer_deal">
    
        <a class="deal_link" target="_blank" href="https://github.com/bearslyricattack" rel="external nofollow noopener" title="Github">
            <i class="fa-brands fa-github"></i>
        </a>
    
        <a class="deal_link" target="_blank" href="https://user.qzone.qq.com/2669184984" rel="external nofollow noopener" title="Mail">
            <i class="fa-solid fa-envelope"></i>
        </a>
    
    <img class="footer_mini_logo" src="/img/avatar.webp"
        title="返回顶部" onclick="acrylic.toTop()">
    
        <a class="deal_link" target="_blank" href="https://music.163.com/#/user/follows?id=436327083" rel="external nofollow noopener" title="网易云">
            <i class="fa-solid fa-music"></i>
        </a>
    
        <a class="deal_link" target="_blank" href="https://space.bilibili.com/701779878?spm_id_from=333.1007.0.0" rel="external nofollow noopener" title="bilibili">
            <i class="fa-brands fa-bilibili"></i>
        </a>
    
</div>    
<div id="heo-footer">
    
    
</div>
<div id="footer-section">
    <div class="footer-section-links">
        <div class="footer-section-left">
            <div id="footer-section-tips">
                <div class="copyright">©2022 - 2023 By 
                    <a class="footer-section-link" href="/" rel="external nofollow">抒情熊</a>
                    <a class="footer-section-link" href="https://github.com/hexo-theme-Acrylic/Hexo-Theme-Acrylic-Next" rel="external nofollow" target="_blank"> Theme By Acrylic-Next</a>
                </div>
            </div>
        </div>
        <div class="footer-section-right">
            <a class="footer-section-link" href="/rss/">订阅</a>
            
            <a class="footer-section-link cc" target="_blank" href="https://creativecommons.org/licenses/by/4.0/" title="cc协议">
                <i class="fa-solid fa-closed-captioning"></i>
            </a>
        </div>
    </div>
</div>
                </footer>
            </div>
         
        <div>
    <script type="text/javascript" src="/js/utils.js"></script>
    <script type="text/javascript" src="/js/main.js"></script>
    

<script src="/lib/pjax.min.js"></script>



<script src="/lib/snackbar.min.js"></script>


    
<script src="/lib/view-image.min.js"></script>



    
<link rel="stylesheet" href="/lib/swiper.min.css">

    
<script src="/lib/swiper.min.js"></script>


<div id="js-pjax">
    
    
        <script async src="https://npm.elemecdn.com/penndu@1.0.0/bsz.js"></script>
     
</div>

    
<link rel="stylesheet" href="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.css">

    
<script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.js"></script>

    
<script src="https://cdn1.tianli0.top/npm/meting@2.0.1/dist/Meting.min.js"></script>



    
<script src="/js/extend/covercolor/web.js"></script>

        

    <script>
  let pjaxSelectors = [
    'title',
    '#body-wrap',
    '#site-config',
    'meta[name="description"]',
    '#js-pjax'
  ]
  
  const pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
  })

  document.querySelectorAll('script[data-pjax]').forEach(item => {
      const newScript = document.createElement('script')
      const content = item.text || item.textContent || item.innerHTML || ""
      Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
      newScript.appendChild(document.createTextNode(content))
      item.parentNode.replaceChild(newScript, item)
  })

  document.addEventListener('pjax:error', (e) => {
    if (e.request.status === 404) {
      pjax.loadUrl('/404.html')
    }
  })
</script>
    
</div>
        
    <div id="local-search">
    <div class="search-dialog">
        <nav class="search-nav">
            <span class="search-dialog-title">搜索</span>
            <button class="search-close-button">
                <i class="fas fa-times"></i>
            </button>
        </nav>
        <div id="loading-database">
            <i class="fas fa-spinner fa-pulse"></i>
            <span>加载中</span>
        </div>
        <div class="search-wrap">
            <div class="search-box">
                <input class="search-box-input" placeholder="输入关键词快速查找" type="text" id="search-input" autocomplete="off" spellcheck="false" autocorrect="off" autocapitalize="off">
            </div>
            <div id="loading-status"></div>
            <div id="search-results"></div>
        </div>
    </div>
    <div id="search-mask"></div>
</div>
    
<link rel="stylesheet" href="/css/search/local-search.css">

    
<script src="/js/extend/search/local-search.js"></script>


     
        <div class="needEndHide" id="nav-music" onclick="acrylic.musicToggle()">
    <div id="nav-music-hoverTips">音乐已暂停</div>
    <meting-js id="7315994021" server="tencent" type="playlist" mutex="true"
        preload="none" data-lrctype="0" order="random" theme="var(--heo-main)"></meting-js>
</div>
    
    </body>
</html>
<script>const posts=["2023/06/18/大一立项爬虫/","2023/06/18/操作系统/","2023/06/08/数据库系统/","2023/06/07/低代码综测平台/","2023/06/04/有匪/","2023/05/29/明月策/","2023/05/29/北邙星梦/","2023/05/29/侠藏/","2023/05/29/天风白马/","2023/04/28/ClickHouse/","2023/03/18/从IOC到Java架构/","2023/03/18/微服务/","2023/03/18/数据结构/","2023/03/18/数据库概述/","2023/03/18/桌搭教程/","2023/03/18/算法设计与分析/","2023/03/18/系统分析与设计/","2023/03/18/面向对象建模技术/","2023/03/14/Go语言设计与实现/","2023/03/13/Git/","2023/02/10/奎桑提教学/","2023/02/10/奥恩教学/","2023/02/10/服务器部署/","2023/02/10/规则引擎/","2023/02/10/风凌夜话/","2023/02/10/青萍/","2023/02/10/巷/","2023/02/10/乱世佳人/","2023/02/10/马克思主义原理/","2023/02/04/Hertz/","2023/01/17/架构设计/","2023/01/17/草木森/","2023/01/17/计算机组成原理/","2023/01/17/鹤扶摇/","2023/01/17/泠音泛海/","2023/01/17/江城一梦/","2023/01/17/近世代数/","2023/01/17/白马遥/","2023/01/17/塑鸿/","2023/01/17/彩云辞/","2023/01/17/Java虚拟机/","2023/01/17/Web基本原理/","2023/01/17/Springboot入门/","2023/01/17/分布式/","2023/01/17/Golang/","2023/01/17/Redis/"];function toRandomPost(){ window.pjax ? pjax.loadUrl('/'+posts[Math.floor(Math.random()*posts.length)]) : window.open('/'+posts[Math.floor(Math.random()*posts.length)], "_self"); };</script>